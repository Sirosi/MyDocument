# 이력
- 2024年06月21日(金) - 최초작성
- 2024年06月24日(月)
    - DI 적용 부분 수정
    - DI란? ALCOA 부분 수정

# GMP란? 그리고 GxP

<img src='./gmp.jpg' style='width:512px'/>

**GMP**_Good Manufacturing Practice_ 는 의약품, 식품, 의료기기 등에 관련된 제품의 제조와 품질 관리에 대한 지침이다.

**ISO 국제표준**이다.

<br/><br/><br/>

<img src='./gxp.jpg' style='width:512px'/>

**GxP**는 GMP의 중간 글자인 **Manufacturing**_제조_ 의 약자 **M**을 미상이란 의미의 **x**로 바꾼 것으로, 단순 제품 제조와 품질 관리만이 아닌, 의약품, 식품, 의료기기 등에 관련된 소프트웨어 등의 모든 분야까지 걸친 의미이다.

**GxP**는 **편의상의 표현**이지, 무언가를 가리키는 단어는 아니다.





# DI란?

DI란 단어는 여러 분야에 걸쳐서 광범위하게 쓰이는 약어다.

- **의존성 주입**_Dependency Injection_
    - 객체가 필요로 하는 의존 객체를 외부에서 주입하는 방식이다.
    - 객체 간의 결합도를 낮추기 위해 사용한다.

- **디지털 입력**_Digital Input_
    - 일반적인 전기 신호와는 달리 **Digital상의 1과 0**을 보내는 신호를 의미한다.
    - 보통 **5.0V~3.3V**가 1, **0V**를 0으로 친다.

- **데이터 완전성**_Data Integrity_
    - GMP에서 권장하는 규칙이다.
    - 데이터가 정확하고 신뢰할 수 있도록 하는 일련의 원칙을 말한다.
    - **ALCOA 원칙**
        - **책임성**_Attributable_
            - 작업을 수행한 개인/시스템을 식별할 수 있어야 한다.
            - 작업/기능을 수행한 사람에 대해 기재할 필요성은, 해당 작업/기능의 자격자가 수행했음을 입증하기 위함이다.
        - **가독성**_Legible_
            - 이력은 읽기 쉽고, 명확해야 한다.
        - **동시성**_Contemporaneous_
            - 작업/기능이 수행된 시점에 기록돼야 한다.
            - 동시성이 증명돼야 기록의 신뢰가 증가한다.
        - **원본**_Original_
            - 원본 데이터가 유지되어야 한다.
            - 원본 데이터에 대한 접근이 가능해야 한다.
            - 원본과 사본의 구분이 가능해야 한다.
        - **정확성**_Accurate_
            - 데이터가 정확하고, 오류 없이 기록되어야 한다.
            - 정확한 데이터를 얻기 위해선, 적격성평가(밸리데이션)가 필요하다.
    - **ALCOA+ 원칙**
        - ALCOA를 보완하기 위해 확장된 개념이다.
        - **완전성**_Complete_
            - 데이터가 누락되지 않고, 완전하게 기록돼야 한다.
            - 데이터에는 반복분석, 재분석 등 모든 행위가 포함돼야 한다.
            - 데이터 중요도 요구 수준을 결정한다.
        - **일관성**_Consistent_
            - 일관된 데이터를 기록, 유지해야 한다.
        - **지속성**_Enduring_
            - 데이터가 적절한 기간 동안 유지/보존돼야 한다.
        - **가용성**_Available_
            - 데이터가 필요할 때, 접근 가능해야 한다.
    - **ALCOA++ 원칙**
        - ALCOA+를 보완하기 위해 확장된 개념이다.
        - **추적성**_Traceable_
            - 데이터가 어떻게 변경되어 왔는지를 추적할 수 있어야 한다.



## DI 적용

식품, 의료 쪽에서는 데이터의 완전성을 입증하기위해 AuditTrail이라고 부르는 이력을 쌓는다.

GMP DI의 설명을 보면, 데이터의 **정확성, 신뢰성**에 대한 것을 중요시하는 것을 알 수 있다.\
CRUD 시스템의 입장에서 보면, 데이터에게 끼치는 영향이 일절 없는 **R**_Read_ 는 관계가 없다는 것을 알 수 있다.\
CUD만 관련있는 시스템.

GMP DI를 AuditTrail 기능에 적합하게 적용하기 위해선, 상단의 ALCOA 원칙을 중심으로 고안하면 된다.

- **책임성**
    - AuditTrail 발생 당시, 로그인 한 계정을 남긴다.
- **가독성**
    - AuditTrail 발생 당시, 이력의 정보 Column을 세분화해서 이력발생 당시의 상황을 명확하게 한다.
    - 또한 Column이 지나치게 많아지면, 가독성이 좋아지지 않는다.
- **동시성**
    - AuditTrail은 즉시 생성한다.
- **원본**
    - 이 부분은 데이터를 중심으로 조작되는 DB 상에서는 크게 고려하지 않아도 된다고 본다.
- **정확성**
    - AuditTrail을, 데이터가 변동 중이 아닌 변동이 완전히 되거나, 되기 전에 발생시킨다.
- **완전성**
    - AuditTrail을 남길 때는, 데이터가 검증이 완료된 뒤에 받거나, 데이터가 검증되는 과정을 모두 남긴다.
    - AuditTrail은 수정할 수 없어야 한다.
- **일관성**
    - AuditTrail을 발생시킬 때, 규격이나 규칙성을 준수한다.
    - **가독성**에서 사용하는 Column 세분화를 하면 이력발생 당시의 상황을 조금 더 규칙성있게 작성할 수 있을 것으로 보인다.
- **지속성**
    - DBMS 및 백업 시스템이 유지해주는 부분으로 보인다.
- **가용성**
    - 보안에 대한 집착 등으로 AuditTrail, Read/Write를 하기 어려운 환경을 만들면 안 된다.
- **추적성**
    - AuditTrail만을 보고도 현재의 데이터는 어떤 과정을 거쳐와 현재의 데이터가 됐는지 추적할 수 있어야 한다.
    - AuditTrail을 순차적으로 배치하면, 그것이 데이터의 역사가 될 수 있게 설계해야 한다.